<!--
SceneTrack; Simple HTML/JS tool for evaluating training scenarios for ems, first-responders and similar
Copyright (C) 2025  V. J. Föller

This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.

You should have received a copy of the GNU General Public Licensealong with this program.  If not, see <https://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="de">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=3.0">
	<title>Scene Track ~ v.1.0</title>
<style>
body {
	padding: 0;
	margin: 0;
	font-family: Courier New;
	background-color: white;
}

.container {
	display: flex;
	flex-direction: column;
	justify-content: center;
	align-items: center;
	width: 100%;
	height: 100vh;
	background-color: white;
}

.navbar {
  overflow: hidden;
  background-color: #0040ff;
  position: fixed;
  text-align: center;
  top: 0;
  width: 100%;
  padding-top: 5px;
  margin: auto;
  border-bottom-left-radius: 10px;
  border-bottom-right-radius: 10px;
  box-shadow: 0px 5px 5px lightblue;
}

.clog {
  background-color: #0040ff;
  width: 100%;
  text-align: center;
  padding-top: 5px;
  margin: auto;
  color: white;
  border-radius: 10px;
}

.clog-txt {
  padding-left: 5px;
}

.digit {
	font-size: 60px;
	color: white;
}

.txt {
	font-size: 20px;
	color: white;
}

.btn-timer {
	width: 150px;
	padding: 10px 15px;
	margin: 2px 10px 5px 10px;
	border-top-right-radius: 10px;
	border-bottom-left-radius: 10px;
	border-bottom-right-radius: 4px;
	border-top-left-radius: 4px;
	cursor: pointer;
	font-size: 20px;
	transition: 0.5s;
	color: white;
	font-weight: 500;
	color: rgb(0, 0, 0);
}

.btn-task {
	width: 150px;
	padding: 10px 15px;
	margin: 2px 10px 5px 10px;
	border-top-right-radius: 10px;
	border-bottom-left-radius: 10px;
	border-bottom-right-radius: 4px;
	border-top-left-radius: 4px;
	cursor: pointer;
	font-size: 20px;
	transition: 0.5s;
	color: white;
	font-weight: 500;
	color: rgb(0, 0, 0);
}

.buttons {
  margin-top: 100px;
}

#start {
	background-color: #009779;
	color: #fff;
}

#start:active {
	background-color: #003329;
}

#stop {
	background-color: #c91400;
	color: #fff;
}

#stop:active {
	background-color: #024d97;
}

#reset {
	background-color: #0e85fc;
	color: #fff;
}

#reset:active {
	background-color: #660a00;
}

.btn-task:active {
  background-color: #4d79ff;
}

.footer {
	color: #404040;
	text-align: center;
	font-size: 10px;
}
</style>
</head>
<body>
  <div class="navbar">
<!-- Timer -->
    <span><button class="btn-timer" id="start">
				Start</button></span>
		<span class="digit" id="hr">
			00</span>
		<span class="txt">Hr</span>
		<span class="digit" id="min">
			00</span>
		<span class="txt">Min</span>
		<span class="digit" id="sec">
			00</span>
		<span class="txt">Sec</span>
		<span class="digit" id="count">
			00</span>
		<span><button class="btn-timer" id="stop">
				Stop</button></span>
		<span><button class="btn-timer" id="reset">
				Reset</button></span>
  </div>
	<div id="btn-de" style="display: block">
	  <div class="buttons">
<!-- Allgemeine Maßnahmen -->
		  <div class="general">
			  <button class="btn-task" id="ssss-de">
				  4S</button>
			  <button class="btn-task" id="notarzt-de">
				  NA</button>
			  <button class="btn-task" id="ansprache-de">
				  Ansprache</button>
			  <button class="btn-task" id="bewusstsein-de">
				  Bewusstein</button>
			  <button class="btn-task" id="sampler-de">
				  SAMPLER</button>
			  <button class="btn-task" id="opqrst-de">
				  OPQRST</button>
			  <button class="btn-task" id="reeval-de">
				  Reevaluation</button>
			  <button class="btn-task" id="zugang-de">
				  iv/io-Zugang</button>
		  </div>
		  <br>
<!-- Kritische Blutungen / x/c-Maßnahmen -->
		  <div class="x">
			  <button class="btn-task" id="critical-de">
				  Blutung?</button>
		  </div>
		  <br>
<!-- Atemwegs-Probleme / A-Maßnahmen -->
		  <div class="a">
			  <button class="btn-task" id="atemweg-de">
				  Atemweg?</button>
				<button class="btn-task" id="absaugen">
				  Atemweg?</button>
				<button class="btn-task" id="aw-hilfe">
				  Guedel/Wendl</button>
		  </div>
		  <br>
<!-- Atmungs-Probleme / B-Maßnahmen -->
		  <div class="b">
			  <button class="btn-task" id="af-de">
				  AF</button>
			  <button class="btn-task" id="auskultation-de">
				  Auskultation</button>
			  <button class="btn-task" id="spo-de">
				  SpO2</button>
				<button class="btn-task" id="ass-beatmung">
				  ass BMV</button>
		  </div>
		  <br>
<!-- Krislauf-Probleme / C-Maßnahmen -->
		  <div class="c">
			  <button class="btn-task" id="puls-de">
				  Puls?</button>
			  <button class="btn-task" id="hf-de">
				  HF</button>
			  <button class="btn-task" id="rr-de">
				  RR</button>
			  <button class="btn-task" id="ekg-de">
				  EKG</button>
			  <button class="btn-task" id="recap-de">
				  Recap</button>
		  </div>
		  <br>
<!-- Neurologische Probleme / D-Maßnahmen -->
		  <div class="d">
			  <button class="btn-task" id="gcs-de">
				  GCS</button>
			  <button class="btn-task" id="bz-de">
				  BZ</button>
			  <button class="btn-task" id="fast-de">
				  FAST</button>
				<button class="btn-task" id="pupillen">
				  Pupillen</button>
		  </div>
		  <br>
<!-- Verletzungen / E-Maßnahmen -->
		  <div class="e">
		    <button class="btn-task" id="temp-de">
				  Temperatur</button>
			  <button class="btn-task" id="verletzungen-de">
				  Verletzungen?</button>
			  <button class="btn-task" id="hws-immo">
				  HWS-Stütze</button>
		  </div>
		  <br>
<!-- Reanimationsmaßnahmen -->
		  <div class="rea">
			  <button class="btn-task" id="erkannt-de">
				  Rea erkannt</button>
			  <button class="btn-task" id="patches-de">
				  Patches</button>
			  <button class="btn-task" id="schock-de">
				  Schock</button>
			  <button class="btn-task" id="analyse-de">
				  Analyse</button>
			  <button class="btn-task" id="supra-de">
				  Adrenalin</button>
			  <button class="btn-task" id="amio-de">
				  Amiodaron</button>
			  <button class="btn-task" id="tubus-de">
				  Intubation</button>
			  <button class="btn-task" id="rosc-de">
				  ROSC</button>
		  </div>
	  </div>
	  <br>
<!-- Sonstige Eingaben / Maßnahmen / Notizen -->
	  <div style="font-size: 25px; padding: 0px 0px 0px 20px" class="others">
		  <label for="andere">Andere Eingaben:</label>
		  <input type="text" id="andere-de" name="andere" style="font-size: 20px">
		  <button style="font-size: 20px" id="other-de">
			  Enter</button>
	  </div>
	</div>
	<br>
	<div class="log">
	  <h1 class="clog">Time Log</h1>
	  <span class="clog-txt" id="log-txt">
	  </span>
  </div>
  <br>
<!-- License / Footer -->
  <span class="footer"><p>This app is published under the <a href="https://www.gnu.org/licenses/gpl-3.0.html#license-text">GNU General Public License Version 3</a></p></span>
<script>
let startBtn = document.getElementById('start');
let stopBtn = document.getElementById('stop');
let resetBtn = document.getElementById('reset');

let hour = 00;
let minute = 00;
let second = 00;
let count = 00;
let logString = "";

startBtn.addEventListener('click', function () {
	timer = true;
	logString = logString + "<br>";
	document.getElementById('log-txt').innerHTML = logString;
	stopWatch();
});

stopBtn.addEventListener('click', function () {
	timer = false;
});

resetBtn.addEventListener('click', function () {
	timer = false;
	hour = 0;
	minute = 0;
	second = 0;
	count = 0;
	document.getElementById('hr').innerHTML = "00";
	document.getElementById('min').innerHTML = "00";
	document.getElementById('sec').innerHTML = "00";
	document.getElementById('count').innerHTML = "00";
	document.getElementById('log-txt').innerHTML = "";
	logString = "";
});

document.getElementById('andere-de').addEventListener('keypress', function(event) {
    if (event.key === "Enter") {
        event.preventDefault();
        document.getElementById('other-de').click();
    }
});

document.getElementById('ssss-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | 4S<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('notarzt-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Notarzt Nachforderung<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('ansprache-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Ansprache des Patienten<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('bewusstsein-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Bewusstseinskontrolle<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('sampler-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | SAMPLER<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('opqrst-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | OPQRST<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('reeval-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Reevaluation des Patientenzustandes<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('zugang-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Anlage i.v./i.o.-Zugang<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('critical-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Kontrolle kritischer Blutungen<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('atemweg-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Kontrolle des Atemwegs<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('absaugen').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Absaugen<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('aw-hilfe').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Einlage Guedel-/Wendltubus<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('af-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Kontrolle der Atemfrequenz<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('auskultation-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Auskultation der Lunge<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('spo-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Anlage SpO2-Sensor<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('ass-beatmung').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Durchführung assistierter Beatmung<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('puls-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Pulskontrolle<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('hf-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Kontrolle der Herzfrequenz<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('rr-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Kontrolle des Blutdrucks<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('ekg-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Kontrolle/Ausdruck des EKG<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('recap-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Kontrolle der Recap-Zeit<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('gcs-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Kontrolle der GCS<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('bz-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Kontrolle des BZ<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('fast-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Untersuchung nach FAST<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('pupillen').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Kontrolle der Pupillen<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('verletzungen-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Kontrolle auf Verletzungen / deren Versorgung<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('hws-immo').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Anlage StiffNeck / X-Collar<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('temp-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Temperaturkontrolle<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('erkannt-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Reanimationspflichtigkeit erkannt<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('patches-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Patches geklebt<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('schock-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Schock Abgegeben<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('analyse-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Rhythmusanalyse<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('supra-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Gabe Adrenalin 1mg/10ml<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('amio-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Gabe Amiodaron 300/150mg<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('tubus-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | Intubation<br>";
	document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('rosc-de').addEventListener('click', function () {
    logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | ROSC<br>";
    document.getElementById('log-txt').innerHTML = logString;
});

document.getElementById('other-de').addEventListener('click', function () {
	logString = logString + ">>> " + hour + ":" + minute + ":" + second + " | " + document.getElementById('andere-de').value + "<br>";
	document.getElementById('andere-de').value = "";
	document.getElementById('log-txt').innerHTML = logString;
});

function stopWatch() {
	if (timer) {
		count++;

		if (count == 100) {
			second++;
			count = 0;
		}

		if (second == 60) {
			minute++;
			second = 0;
		}

		if (minute == 60) {
			hour++;
			minute = 0;
			second = 0;
		}

		let hrString = hour;
		let minString = minute;
		let secString = second;
		let countString = count;

		if (hour < 10) {
			hrString = "0" + hrString;
		}

		if (minute < 10) {
			minString = "0" + minString;
		}

		if (second <10) {
			secString = "0" + secString;
		}

		if (count < 10) {
			countString = "0" + countString;
		}

		document.getElementById('hr').innerHTML = hrString;
		document.getElementById('min').innerHTML = minString;
		document.getElementById('sec').innerHTML = secString;
		document.getElementById('count').innerHTML = countString;
		setTimeout(stopWatch, 10);
	}
}
</script>
</body>
</html>
